<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Fourier Transform Explorer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .explanation {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 5px solid #667eea;
        }

        .explanation h2 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .explanation p {
            line-height: 1.8;
            color: #333;
            margin-bottom: 15px;
        }

        .visualization-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .canvas-container {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .canvas-container h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        canvas {
            border: 2px solid #667eea;
            border-radius: 5px;
            background: white;
            max-width: 100%;
            height: auto;
        }

        .controls {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .control-group {
            margin-bottom: 20px;
        }

        .control-group label {
            display: block;
            color: #333;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .control-group input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }

        .control-group input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
        }

        .control-group input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
            border: none;
        }

        .value-display {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 600;
            margin-left: 10px;
        }

        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        button {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            background: #667eea;
            color: white;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        button:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .info-box {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 5px solid #2196f3;
        }

        .info-box h3 {
            color: #2196f3;
            margin-bottom: 10px;
        }

        .formula {
            background: white;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin: 10px 0;
            text-align: center;
            font-size: 1.1em;
        }

        @media (max-width: 968px) {
            .visualization-area {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üåä Interactive Fourier Transform Explorer</h1>
        <p class="subtitle">Discover how complex signals are composed of simple sine waves</p>

        <div class="explanation">
            <h2>What is the Fourier Transform?</h2>
            <p>
                The <strong>Fourier Transform</strong> is one of the most powerful mathematical tools in science and engineering. 
                It allows us to break down any complex signal (like music, images, or radio waves) into simple sine and cosine waves 
                of different frequencies. Think of it as a "recipe" that tells you exactly which frequencies and how much of each 
                frequency makes up your signal.
            </p>
            <p>
                <strong>Real-world applications:</strong> MP3 compression, JPEG images, telecommunications (5G networks!), 
                medical imaging (MRI, CT scans), audio processing, and signal analysis in your SyncMetra products!
            </p>
            <div class="formula">
                F(œâ) = ‚à´ f(t) ¬∑ e<sup>-iœât</sup> dt
            </div>
            <p style="text-align: center; font-size: 0.9em; color: #666;">
                This formula transforms a time-domain signal f(t) into its frequency-domain representation F(œâ)
            </p>
        </div>

        <div class="controls">
            <h2 style="color: #667eea; margin-bottom: 20px;">üéõÔ∏è Interactive Controls</h2>

            <div class="control-group">
                <label>Number of Harmonics: <span class="value-display" id="harmonics-value">3</span></label>
                <input type="range" id="harmonics" min="1" max="10" value="3" step="1">
            </div>

            <div class="control-group">
                <label>Frequency (Hz): <span class="value-display" id="frequency-value">2.0</span></label>
                <input type="range" id="frequency" min="0.5" max="5" value="2" step="0.5">
            </div>

            <div class="control-group">
                <label>Amplitude: <span class="value-display" id="amplitude-value">1.0</span></label>
                <input type="range" id="amplitude" min="0.1" max="2" value="1" step="0.1">
            </div>

            <div class="button-group">
                <button onclick="setWaveform('sine')">Sine Wave</button>
                <button onclick="setWaveform('square')">Square Wave</button>
                <button onclick="setWaveform('sawtooth')">Sawtooth Wave</button>
                <button onclick="setWaveform('triangle')">Triangle Wave</button>
                <button onclick="setWaveform('custom')">Custom Mix</button>
            </div>
        </div>

        <div class="visualization-area">
            <div class="canvas-container">
                <h3>üìà Time Domain (Signal)</h3>
                <canvas id="timeCanvas" width="600" height="300"></canvas>
                <p style="margin-top: 10px; color: #666;">This shows your signal as it changes over time</p>
            </div>

            <div class="canvas-container">
                <h3>üìä Frequency Domain (Fourier Transform)</h3>
                <canvas id="frequencyCanvas" width="600" height="300"></canvas>
                <p style="margin-top: 10px; color: #666;">This shows which frequencies make up your signal</p>
            </div>
        </div>

        <div class="info-box">
            <h3>üí° What You're Seeing</h3>
            <p>
                <strong>Left graph (Time Domain):</strong> Shows how the signal varies over time. This is what you'd see on an oscilloscope.
            </p>
            <p>
                <strong>Right graph (Frequency Domain):</strong> Shows the strength (amplitude) of each frequency component. 
                Each peak represents a specific frequency present in the signal. The height of the peak shows how strong that frequency is.
            </p>
            <p>
                <strong>Try this:</strong> Switch to "Square Wave" and increase the harmonics. Notice how adding more high-frequency 
                components makes the square wave sharper! This is how the Fourier Transform works - complex shapes are built from 
                simple sine waves.
            </p>
        </div>
    </div>

    <script>
        // Canvas setup
        const timeCanvas = document.getElementById('timeCanvas');
        const frequencyCanvas = document.getElementById('frequencyCanvas');
        const timeCtx = timeCanvas.getContext('2d');
        const freqCtx = frequencyCanvas.getContext('2d');

        // Parameters
        let harmonics = 3;
        let frequency = 2.0;
        let amplitude = 1.0;
        let waveform = 'sine';

        // Update displays
        document.getElementById('harmonics').addEventListener('input', function() {
            harmonics = parseInt(this.value);
            document.getElementById('harmonics-value').textContent = harmonics;
            draw();
        });

        document.getElementById('frequency').addEventListener('input', function() {
            frequency = parseFloat(this.value);
            document.getElementById('frequency-value').textContent = frequency.toFixed(1);
            draw();
        });

        document.getElementById('amplitude').addEventListener('input', function() {
            amplitude = parseFloat(this.value);
            document.getElementById('amplitude-value').textContent = amplitude.toFixed(1);
            draw();
        });

        function setWaveform(type) {
            waveform = type;
            draw();
        }

        // Generate waveform data
        function generateWaveform(numPoints) {
            const data = [];
            const step = (4 * Math.PI) / numPoints;

            for (let i = 0; i < numPoints; i++) {
                const t = i * step;
                let value = 0;

                switch(waveform) {
                    case 'sine':
                        value = amplitude * Math.sin(frequency * t);
                        break;

                    case 'square':
                        // Square wave using Fourier series
                        for (let n = 1; n <= harmonics; n++) {
                            const odd = 2 * n - 1;
                            value += (4 * amplitude / (Math.PI * odd)) * Math.sin(odd * frequency * t);
                        }
                        break;

                    case 'sawtooth':
                        // Sawtooth wave using Fourier series
                        for (let n = 1; n <= harmonics; n++) {
                            value += (2 * amplitude / (Math.PI * n)) * Math.pow(-1, n + 1) * Math.sin(n * frequency * t);
                        }
                        break;

                    case 'triangle':
                        // Triangle wave using Fourier series
                        for (let n = 1; n <= harmonics; n++) {
                            const odd = 2 * n - 1;
                            value += (8 * amplitude / (Math.PI * Math.PI * odd * odd)) * 
                                     Math.pow(-1, n - 1) * Math.sin(odd * frequency * t);
                        }
                        break;

                    case 'custom':
                        // Mix of different frequencies
                        value = amplitude * Math.sin(frequency * t) + 
                                0.5 * amplitude * Math.sin(2 * frequency * t) +
                                0.3 * amplitude * Math.sin(3 * frequency * t);
                        break;
                }

                data.push(value);
            }

            return data;
        }

        // Simple DFT for visualization
        function computeDFT(data) {
            const N = data.length;
            const frequencies = [];
            const maxFreq = 20;

            for (let k = 0; k <= maxFreq; k++) {
                let real = 0;
                let imag = 0;

                for (let n = 0; n < N; n++) {
                    const angle = (2 * Math.PI * k * n) / N;
                    real += data[n] * Math.cos(angle);
                    imag -= data[n] * Math.sin(angle);
                }

                real /= N;
                imag /= N;

                const magnitude = 2 * Math.sqrt(real * real + imag * imag);
                frequencies.push(magnitude);
            }

            return frequencies;
        }

        // Draw time domain
        function drawTimeDomain(data) {
            const width = timeCanvas.width;
            const height = timeCanvas.height;
            const centerY = height / 2;
            const scale = height / 4;

            timeCtx.clearRect(0, 0, width, height);

            // Draw grid
            timeCtx.strokeStyle = '#e0e0e0';
            timeCtx.lineWidth = 1;

            // Horizontal lines
            for (let i = 0; i <= 4; i++) {
                const y = (height / 4) * i;
                timeCtx.beginPath();
                timeCtx.moveTo(0, y);
                timeCtx.lineTo(width, y);
                timeCtx.stroke();
            }

            // Center line
            timeCtx.strokeStyle = '#999';
            timeCtx.beginPath();
            timeCtx.moveTo(0, centerY);
            timeCtx.lineTo(width, centerY);
            timeCtx.stroke();

            // Draw waveform
            timeCtx.strokeStyle = '#667eea';
            timeCtx.lineWidth = 3;
            timeCtx.beginPath();

            for (let i = 0; i < data.length; i++) {
                const x = (i / data.length) * width;
                const y = centerY - data[i] * scale;

                if (i === 0) {
                    timeCtx.moveTo(x, y);
                } else {
                    timeCtx.lineTo(x, y);
                }
            }

            timeCtx.stroke();

            // Labels
            timeCtx.fillStyle = '#333';
            timeCtx.font = '14px Arial';
            timeCtx.fillText('Time ‚Üí', width - 60, height - 10);
            timeCtx.fillText('Amplitude', 10, 20);
        }

        // Draw frequency domain
        function drawFrequencyDomain(frequencies) {
            const width = frequencyCanvas.width;
            const height = frequencyCanvas.height;
            const barWidth = width / frequencies.length;

            freqCtx.clearRect(0, 0, width, height);

            // Draw grid
            freqCtx.strokeStyle = '#e0e0e0';
            freqCtx.lineWidth = 1;

            for (let i = 0; i <= 4; i++) {
                const y = (height / 4) * i;
                freqCtx.beginPath();
                freqCtx.moveTo(0, y);
                freqCtx.lineTo(width, y);
                freqCtx.stroke();
            }

            // Find max for scaling
            const max = Math.max(...frequencies);
            const scale = max > 0 ? (height * 0.8) / max : 1;

            // Draw bars
            frequencies.forEach((mag, i) => {
                const x = i * barWidth;
                const barHeight = mag * scale;
                const y = height - barHeight;

                // Gradient
                const gradient = freqCtx.createLinearGradient(0, y, 0, height);
                gradient.addColorStop(0, '#764ba2');
                gradient.addColorStop(1, '#667eea');

                freqCtx.fillStyle = gradient;
                freqCtx.fillRect(x, y, barWidth - 2, barHeight);

                // Peak labels for significant frequencies
                if (mag > max * 0.1) {
                    freqCtx.fillStyle = '#333';
                    freqCtx.font = '12px Arial';
                    freqCtx.fillText(i.toString(), x + barWidth/2 - 5, height - 5);
                }
            });

            // Labels
            freqCtx.fillStyle = '#333';
            freqCtx.font = '14px Arial';
            freqCtx.fillText('Frequency (Hz) ‚Üí', width - 130, height - 10);
            freqCtx.fillText('Magnitude', 10, 20);
        }

        // Main draw function
        function draw() {
            const data = generateWaveform(512);
            const frequencies = computeDFT(data);

            drawTimeDomain(data);
            drawFrequencyDomain(frequencies);
        }

        // Initial draw
        draw();

        // Animate
        let animationFrame = 0;
        function animate() {
            animationFrame++;
            if (animationFrame % 2 === 0) {
                draw();
            }
            requestAnimationFrame(animate);
        }

        // Start animation
        animate();
    </script>
</body>
</html>